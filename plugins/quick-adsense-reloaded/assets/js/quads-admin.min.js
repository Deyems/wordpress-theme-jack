var strict;function quads_switch_version(a,e){jQuery(e).attr("onClick","");var t={action:"quads_change_mode",mode:a,nonce:quads.nonce};jQuery.post(ajaxurl,t,function(a,e,t){window.location.href=quads.path+"/wp-admin/admin.php?page=quads-settings"}).fail(function(a){quads_show_message("Ajax Error: "+a.status+" "+a.statusText)})}jQuery(document).ready(function(a){function e(a){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)}function t(a){const e=/google_ad_slot\s*=\s*"(\d*)";/g,t=a;for(var s,i={};null!==(s=e.exec(t));)s.index===e.lastIndex&&e.lastIndex++,s.forEach(function(a,e){console.log(a),i=a});return i}function s(a){const e=/google_ad_client\s*=\s*"ca-pub-(\d*)";/g,t=a;for(var s,i={};null!==(s=e.exec(t));)s.index===e.lastIndex&&e.lastIndex++,s.forEach(function(a,e){console.log(a),i=a});return i}function i(a){const e=/google_ad_width\s*=\s*(\d*);/g,t=a;for(var s,i={};null!==(s=e.exec(t));)s.index===e.lastIndex&&e.lastIndex++,s.forEach(function(a,e){console.log(a),i=a});return i}function o(a){const e=/google_ad_height\s*=\s*(\d*);/g,t=a;for(var s,i={};null!==(s=e.exec(t));)s.index===e.lastIndex&&e.lastIndex++,s.forEach(function(a,e){console.log(a),i=a});return i}function n(a){return!a||0===a.length}function l(e){a("#quads-error-details").show(),a("#quads-error-details").html(e),console.log(e)}a('a[href$="quads_switch_to_new"]').removeAttr("href").attr("onClick","quads_switch_version('new',this);"),a('a[href$="quads_switch_to_old"]').removeAttr("href").attr("onClick","quads_switch_version('old',this);"),a(".wpquads-send-query").on("click",function(t){t.preventDefault();var s=a("#wpquads_query_message").val(),i=a("#wpquads_query_email").val(),o=a("#wpquads_query_premium_cus").val(),n=quads.nonce;""!=a.trim(s)&&o&&""!=a.trim(i)&&1==e(i)?a.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:"wpquads_send_query_message",premium_cus:o,message:s,email:i,wpquads_security_nonce:n},success:function(e){a(".wpquads_support_div ul").hide(),"t"==e.status?(a(".wpquads-query-success").show(),a(".wpquads-query-error").hide()):(a(".wpquads-query-success").hide(),a(".wpquads-query-error").show())},error:function(a){console.log(a)}}):""==a.trim(s)&&""==o&&""==a.trim(i)?alert("Please enter the message, email and select customer type"):(""==o&&alert("Select Customer type"),""==a.trim(s)&&alert("Please enter the message"),""==a.trim(i)&&alert("Please enter the email"),0==e(i)&&alert("Please enter a valid email"))}),a(".quads-tooltip").click(function(e){var t=a(this),s=a(this).next();if(void 0!==s.html()){e.preventDefault(),a(".quads-tooltip-message").not(s).hide();var i=t.position();s.hasClass("bottom")?s.css({left:i.left-s.width()/2+"px",top:i.top+t.height()+9+"px"}):s.css({left:i.left+t.width()+9+"px",top:i.top+t.height()/2-18+"px"}),s.toggle(),e.stopPropagation()}}),a("body").click(function(){a(".quads-tooltip-message").hide()}),a(".quads-tooltip-message").click(function(a){a.stopPropagation()}),a("#quads_vi_login_submit").click(function(e){e.preventDefault(),username=a("#quads-vi-email").val(),password=a("#quads-vi-password").val();var t='{"email":"'+username+'", "password":"'+password+'"}';return a.ajax({type:"POST",url:quads.vi_login_url,contentType:"application/json",data:t,statusCode:{502:function(){return a("#quads_add_err").html("502 Bad Gateway. Contact support[at]vi.ai"),console.log("502 Bad Gateway."),!1},500:function(){return a("#quads_add_err").html("500 Bad Gateway. Contact support[at]vi.ai"),console.log("500 Bad Gateway."),!1}},success:function(e){var t,s;a("#quads_add_err").css("display","none","important").css("visibility","hidden"),a("#quads_add_err").hide(),void 0!==e.data?(a("#quads_add_err").html("We are logging you in"),console.log("We are logging you in"+e),t=e.data,s={action:"quads_save_vi_token",token:t},a.ajax({type:"POST",url:ajaxurl,dataType:"json",data:s,success:function(e){return console.log(e.status),a("#quads_add_err").css("display","none","important").css("visibility","hidden"),a("#quads_add_err").hide(),void 0!==e.status&&"success"==e.status?(console.log("Success, login succesfull, token stored"+e),window.location.href=quads.path+"/wp-admin/?page=quads-settings&tab=general#quads_settingsvi_header",!1):(console.log("Can not store token"),window.location.href=quads.path+"/wp-admin/?page=quads-settings&tab=general#quads_settingsvi_header",!1)},beforeSend:function(){a("#quads_add_err").css("display","inline","important").css("visibility","visible"),a("#quads_add_err").show()},complete:function(){a("#quads_add_err").css("display","none","important").css("visibility","hidden"),a("#quads_add_err").hide()}})):(a("#quads_add_err").html("No valid API response. Can not log you in. Contact support[at]vi.ai"),console.log("no valid api response"+e))},error:function(e){if(void 0!==this.statusCode[e.status])return!1;var t=void 0!==e.responseText?JSON.parse(e.responseText):"";a("#quads_add_err").html(t.error.message+" "+t.error.description),a("#quads_add_err").css("display","inline","important").css("visibility","visible"),a("#quads_add_err").show(),a("#quads_add_err").removeClass("quads-spinner"),console.log(t)},beforeSend:function(){a("#quads_vi_loading").css("display","inline","important").css("visibility","visible"),a("#quads_add_err").show()},complete:function(){a("#quads_vi_loading").css("display","none","important").css("visibility","hidden")}}),!1}),document.location.href.indexOf("vi_header")>-1?(a("#quads-submit-button").hide(),a("#quads-validate").hide(),a("#quads-footer").hide()):(a("#quads-submit-button").show(),a("#quads-validate").show(),a("#quads-footer").show()),a(window).bind("easytabs:after",function(){document.location.href.indexOf("vi_header")>-1?(a("#quads-submit-button").hide(),a("#quads-validate").hide(),a("#quads-footer").hide()):(a("#quads-submit-button").show(),a("#quads-validate").show(),a("#quads-footer").show())}),a("#quads-vi-signup").click(function(e){e.preventDefault(),a(window).scrollTop(0),a("#quads-submit-button").hide(),a("#quads-vi-signup-fullscreen").fadeIn()}),a("#quads-vi-close").click(function(e){e.preventDefault(),a("#quads-vi-signup-fullscreen").fadeOut()}),a(".quads-assign").each(function(e){a(this).prop("checked")?a(this).next("select").css("background-color","white").css("color","black"):a(this).next("select").css("background-color","whitesmoke").css("color","#939393")}),a(".quads-assign").click(function(){a(this).prop("checked")?a(this).next("select").css("background-color","white").css("color","black"):a(this).next("select").css("background-color","whitesmoke").css("color","#939393")}),a(window).scroll(function(){if(!a("#quads_settings").length)return!0;var e,t,s,i,o,n="#quads_tab_container .submit",l=a("#quads_settings"),d=(e=l,t=a(window).scrollTop(),s=t+a(window).height(),i=e.offset().top,o=i+e.outerHeight(!0),i>t&&i<s||o>t&&o<s||t>=i&&t<=o||s>=i&&s<=o);if(!(a(n).length<1)){a(n).offset().top,a(n).offset().top,a(n).outerHeight(!1),a(window).scrollTop(),a(window).height();d?a("#quads-submit-button").css("position","fixed").css("bottom","20px"):a("#quads-submit-button").css("position","relative").css("bottom","20px")}}),a(".quads-activate-amp").click(function(){var e=a(this).parents(".quads-ad-toggle-container").attr("id");"checked"===a(this).attr("checked")?a("#"+e).find(".quads-amp-code").show():a("#"+e).find(".quads-amp-code").hide()}),a(".quads-ad-toggle-container").find(".quads-activate-amp").each(function(e,t){var s=a(this).parents(".quads-ad-toggle-container").attr("id");"checked"===a(this).attr("checked")?a("#"+s).find(".quads-amp-code").show():a("#"+s).find(".quads-amp-code").hide()}),a("#quads-open-toggle").click(function(){"Open All Ads"===a("#quads-open-toggle").text()?(a(".quads-ad-toggle-container").show(),a("#quads-open-toggle").html("Close Ads")):(a(".quads-ad-toggle-container").hide(),a("#quads-open-toggle").html("Open All Ads"))}),a(".quads-helper").click(function(e){e.preventDefault();var t=a(this),s=a(this).next();a(".quads-message").not(s).hide();var i=t.position();s.hasClass("bottom")?s.css({left:i.left-s.width()/2+"px",top:i.top+t.height()+9+"px"}):s.css({left:i.left+t.width()+9+"px",top:i.top+t.height()/2-18+"px"}),s.toggle(),e.stopPropagation()}),a(document).on("mouseover",".quads-general-helper",function(e){e.preventDefault();var t=a(this),s=a(this).next();a(".quads-message").not(s).hide();var i=t.position();s.hasClass("bottom")?s.css({left:i.left-s.width()/2+"px",top:i.top+t.height()+9+"px"}):s.css({left:i.left+t.width()+9+"px",top:i.top+t.height()/2-18+"px"}),s.toggle(),e.stopPropagation()}),a(document).on("mouseout",".quads-general-helper",function(e){a(".quads-message").hide()}),a(document).on("click",".quads-general-helper",function(e){var t=a(this),s=a(this).next();if(void 0!==s.html()){e.preventDefault(),a(".quads-message").not(s).hide();var i=t.position();s.hasClass("bottom")?s.css({left:i.left-s.width()/2+"px",top:i.top+t.height()+9+"px"}):s.css({left:i.left+t.width()+9+"px",top:i.top+t.height()/2-18+"px"}),s.toggle(),e.stopPropagation()}}),a("body").click(function(){a(".quads-message").hide()}),a(".quads-message").click(function(a){a.stopPropagation()}),jQuery("#quads_settings").submit(function(){var e;e={action:"quads_clear_cache",nonce:quads.nonce},a.post(ajaxurl,e,function(a,e,t){console.log("success:"+a+e+t)}).fail(function(a){console.log("error: "+a.statusText)}),a(".quads-toogle-title").each(function(){a(this).children("input").val(a(this).text())});var t=window.location.search,s=t.search("page=quads-settings&tab=imexport"),i=t.search("page=quads-settings&tab=licenses");if(jQuery("#quads-save-result").html("<div id='quads-loader' class='quads-loader'></div>"),jQuery("#quads-loader").append('<p><img src="'+quads.path+'/wp-content/plugins/quick-adsense-reloaded/assets/images/loader1.gif"></p>').show(),jQuery(this).ajaxSubmit({success:function(){jQuery("#quads-save-result").html("<div id='quads-save-message' class='quads-success-modal'></div>"),jQuery("#quads-save-message").append('<p><img src="'+quads.path+'/wp-content/plugins/quick-adsense-reloaded/assets/images/saved.gif"></p>').show(),setTimeout("jQuery('#quads-save-message').hide()",1e3)},error:function(){-1===s&&-1===i&&alert("Error: Can not save settings. Try again"),jQuery("#quads-save-result").hide("fast")}}),-1===s&&-1===i)return!1}),a(document).on("click","#quads-paste-button",function(){var e=function(e){var l=void 0!==e?e.trim():"",d={},c=a("<div />").html(l).find("ins");if(c.length>0)return console.log("async ad"),d.slotId=c.attr("data-ad-slot"),void 0!==c.attr("data-ad-client")&&(d.pubId=c.attr("data-ad-client").substr(3)),void 0!==d.slotId&&""!=d.pubId&&(d.display=c.css("display"),d.format=c.attr("data-ad-format"),d.style=c.attr("style"),void 0===d.format&&-1!=d.style.indexOf("width")?(d.type="normal",d.width=c.css("width").replace("px",""),d.height=c.css("height").replace("px",""),d):void 0!==d.format&&"auto"==d.format?(d.type="responsive",d):d);if(l.search("google_ad_client")>0)return console.log("syncronous code"),d.slotId=t(e),console.log(t(e)),console.log(s(e)),console.log(o(e)),console.log(i(e)),!n(s(e))&&(d.pubId="ca-pub-"+s(e),!(n(d.slotId)||n(d.pubId)||n(i(e)))&&(d.type="normal",d.width=i(e),d.height=o(e),d));return!1}(a("#quads-adsense-form").val());!1!==e?(console.log(e),function(e){var t=a("#quads-adsense-id").val(),s=t.replace("quads-toggle","");a("#quads_settings\\[ads\\]\\["+s+"\\]\\[g_data_ad_slot\\]").val(e.slotId),a("#quads_settings\\[ads\\]\\["+s+"\\]\\[g_data_ad_client\\]").val(e.pubId),"normal"==e.type&&(console.log(a("#quads_settings\\[ads\\]\\["+s+"\\]\\[adsense_type\\]")),a("#quads_settings\\[ads\\]\\["+s+"\\]\\[adsense_type\\]").val("normal"),a("#quads_settings\\[ads\\]\\["+s+"\\]\\[g_data_ad_width\\]").val(e.width),a("#quads_settings\\[ads\\]\\["+s+"\\]\\[g_data_ad_height\\]").val(e.height));"responsive"==e.type&&(a("#quads_settings\\[ads\\]\\["+s+"\\]\\[adsense_type\\]").val("responsive"),a("#quads_settings\\[ads\\]\\["+s+"\\]\\[g_data_ad_width\\]").val(""),a("#quads_settings\\[ads\\]\\["+s+"\\]\\[g_data_ad_height\\]").val(""));a(".quads-select-Type").trigger("change"),a("#quads-adsense-bg-div").hide(),0===a("#"+t).children("textarea").val().length&&a("#"+t).children("textarea").val("adsense")}(e)):(a("#quads-msg").html("Can not parse AdSense Code. Is the code valid?"),a("#quads-msg").show())}),a(document).on("click",".quads-add-adsense",function(e){e.preventDefault();var t=a(this).parents(".quads-ad-toggle-container").attr("id");a("#quads-adsense-form").val(""),a("#quads-adsense-id").val(t),a("#quads-adsense-bg-div").show()}),a(document).on("click","#quads-close-button",function(e){e.preventDefault(),a("#quads-adsense-bg-div").hide()}),a(document).on("click",".quads_adsense_type",function(){var e=a(this).parents(".quads-ad-toggle-container").attr("id");"adsense"===a(this).val()&&(a("#"+e).children("textarea").hide(),a("#"+e).find("div.quads_adsense_code").show(),a("#"+e).find(".quads-sizes").show(),a("#"+e).find(".quads-sizes-container").css("clear","")),"plain_text"===a(this).val()&&(a("#"+e).children("textarea").show(),a("#"+e).children("div.quads_adsense_code").hide(),a("#"+e).find(".quads-sizes").hide(),a("#"+e).find(".quads-sizes-container").css("clear","both"))}),a(".quads-ad-toggle-container").find(".quads_adsense_type").each(function(e,t){var s=a(this).parents(".quads-ad-toggle-container").attr("id");"checked"===a(this).attr("checked")&&"adsense"===a(this).val()&&(a("#"+s).children("textarea").fadeOut(),a("#"+s).find("div.quads_adsense_code").show()),"checked"===a(this).attr("checked")&&"plain_text"===a(this).val()&&(a("#"+s).children("textarea").fadeIn(),a("#"+s).children("div.quads_adsense_code").hide())}),a(".quads-ad-toggle-container").find(".quads-select-Type").each(function(e,t){var s=a(this).parents(".quads-ad-toggle-container").attr("id");"responsive"===a(this).val()&&(a("#"+s).find(".quads-type-normal").hide(),a("#"+s).find(".quads-pro-notice").show(),a("#"+s).find(".quads-sizes").show(),a("#"+s).find(".quads-sizes-container").css("clear","")),"normal"===a(this).val()&&(a("#"+s).find(".quads-type-normal").show(),a("#"+s).find(".quads-pro-notice").hide(),a("#"+s).find(".quads-sizes").hide(),a("#"+s).find(".quads-sizes-container").css("clear","both"))}),a(document).on("change",".quads-select-Type",function(){var e=a(this).parents(".quads-ad-toggle-container").attr("id");"responsive"===a(this).val()&&(a("#"+e).find(".quads-type-normal").hide(),a("#"+e).find(".quads-pro-notice").show(),a("#"+e).find(".quads-sizes").show(),a("#"+e).find(".quads-sizes-container").css("clear","")),"normal"===a(this).val()&&(a("#"+e).find(".quads-type-normal").show(),a("#"+e).find(".quads-pro-notice").hide(),a("#"+e).find(".quads-sizes").hide(),a("#"+e).find(".quads-sizes-container").css("clear","both"))}),a(".quads-form-table").on("click",".quads-ad-toggle-header",function(e){e.preventDefault();var t=a("#"+a(this).data("box-id"));t.toggle(0,function(){t.parents(".quads-ad-toggle-header").hasClass("quads-box-close")?t.parents(".quads-ad-toggle-header").removeClass("quads-box-close"):t.parents(".quads-ad-toggle-header").addClass("quads-box-close")})}),jQuery(".quads-import-settings").click(function(e){if(e.preventDefault(),confirm("Importing settings from Quick AdSense will overwrite all your current settings. Are you sure?")){jQuery("#quads-import-settings").addClass("loading");var t={action:"quads_import_quick_adsense",nonce:quads.nonce};a.post(ajaxurl,t,function(a,e,t){l(a)}).fail(function(a){l("Ajax Error: "+a.status+" "+a.statusText)})}}),jQuery("#quads_insert_ads_action").click(function(a){a.preventDefault(),jQuery("#quads_insert_ads_box").toggle()}),jQuery("#quads_disable_ads_action").click(function(a){a.preventDefault(),jQuery("#quads_disable_ads_box").toggle()}),a(".quads-tabs").length&&a("#quads_tab_container").easytabs({animate:!0,updateHash:!0,animationSpeed:"fast"})}),function(a,e,t){var s,i="hashchange",o=document,n=a.event.special,l=o.documentMode,d="on"+i in e&&(l===t||l>7);function c(a){return"#"+(a=a||location.href).replace(/^[^#]*#?(.*)$/,"$1")}a.fn[i]=function(a){return a?this.bind(i,a):this.trigger(i)},a.fn[i].delay=50,n[i]=a.extend(n[i],{setup:function(){if(d)return!1;a(s.start)},teardown:function(){if(d)return!1;a(s.stop)}}),s=function(){var s,n,l,r={},u=c(),p=function(a){return a},h=p,f=p;function g(){var t=c(),o=f(u);t!==u?(h(u=t,o),a(e).trigger(i)):o!==u&&(location.href=location.href.replace(/#.*/,"")+o),s=setTimeout(g,a.fn[i].delay)}return r.start=function(){s||g()},r.stop=function(){s&&clearTimeout(s),s=t},!d&&(r.start=function(){n||(l=(l=a.fn[i].src)&&l+c(),n=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){l||h(c()),g()}).attr("src",l||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{"title"===event.propertyName&&(n.document.title=o.title)}catch(a){}})},r.stop=p,f=function(){return c(n.location.href)},h=function(e,t){var s=n.document,l=a.fn[i].domain;e!==t&&(s.title=o.title,s.open(),l&&s.write('<script>document.domain="'+l+'"<\/script>'),s.close(),n.location.hash=e)}),r}()}(jQuery,this),function(a){a.easytabs=function(e,t){var s,i,o,n,l,d,c=this,r=a(e),u={animate:!0,panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",animationSpeed:"fast",tabs:"> ul > li",updateHash:!0,cycle:!1,collapsible:!1,collapsedClass:"collapsed",collapsedByDefault:!0,uiTabs:!1,transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInEasing:"swing",transitionOutEasing:"swing",transitionCollapse:"slideUp",transitionUncollapse:"slideDown",transitionCollapseEasing:"swing",transitionUncollapseEasing:"swing",containerClass:"",tabsClass:"",tabClass:"",panelClass:"",cache:!0,event:"click",panelContext:r},p={fast:200,normal:400,slow:600};c.init=function(){c.settings=d=a.extend({},u,t),d.bind_str=d.event+".easytabs",d.uiTabs&&(d.tabActiveClass="ui-tabs-selected",d.containerClass="ui-tabs ui-widget ui-widget-content ui-corner-all",d.tabsClass="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all",d.tabClass="ui-state-default ui-corner-top",d.panelClass="ui-tabs-panel ui-widget-content ui-corner-bottom"),d.collapsible&&void 0!==t.defaultTab&&void 0===t.collpasedByDefault&&(d.collapsedByDefault=!1),"string"==typeof d.animationSpeed&&(d.animationSpeed=p[d.animationSpeed]),a("a.anchor").remove().prependTo("body"),r.data("easytabs",{}),c.setTransitions(),c.getTabs(),f(),g(),q(),y(),r.attr("data-easytabs",!0)},c.setTransitions=function(){o=d.animate?{show:d.transitionIn,hide:d.transitionOut,speed:d.animationSpeed,collapse:d.transitionCollapse,uncollapse:d.transitionUncollapse,halfSpeed:d.animationSpeed/2}:{show:"show",hide:"hide",speed:0,collapse:"hide",uncollapse:"show",halfSpeed:0}},c.getTabs=function(){var e;c.tabs=r.find(d.tabs),c.panels=a(),c.tabs.each(function(){var t=a(this),s=t.children("a"),i=t.children("a").data("target");t.data("easytabs",{}),null!=i?t.data("easytabs").ajax=s.attr("href"):i=s.attr("href"),i=i.match(/#([^\?]+)/)[1],(e=d.panelContext.find("#"+i)).length?(e.data("easytabs",{position:e.css("position"),visibility:e.css("visibility")}),e.not(d.panelActiveClass).hide(),c.panels=c.panels.add(e),t.data("easytabs").panel=e):(c.tabs=c.tabs.not(t),"console"in window&&console.warn("Warning: tab without matching panel for selector '#"+i+"' removed from set"))})},c.selectTab=function(a,e){window.location.hash.match(/^[^\?]*/)[0];var t=a.parent().data("easytabs").panel,s=a.parent().data("easytabs").ajax;d.collapsible&&!l&&(a.hasClass(d.tabActiveClass)||a.hasClass(d.collapsedClass))?c.toggleTabCollapse(a,t,s,e):a.hasClass(d.tabActiveClass)&&t.hasClass(d.panelActiveClass)&&d.cache||m(a,t,s,e)},c.toggleTabCollapse=function(a,e,t,s){c.panels.stop(!0,!0),h(r,"easytabs:before",[a,e,d])&&(c.tabs.filter("."+d.tabActiveClass).removeClass(d.tabActiveClass).children().removeClass(d.tabActiveClass),a.hasClass(d.collapsedClass)?(!t||d.cache&&a.parent().data("easytabs").cached||(r.trigger("easytabs:ajax:beforeSend",[a,e]),e.load(t,function(t,s,i){a.parent().data("easytabs").cached=!0,r.trigger("easytabs:ajax:complete",[a,e,t,s,i])})),a.parent().removeClass(d.collapsedClass).addClass(d.tabActiveClass).children().removeClass(d.collapsedClass).addClass(d.tabActiveClass),e.addClass(d.panelActiveClass)[o.uncollapse](o.speed,d.transitionUncollapseEasing,function(){r.trigger("easytabs:midTransition",[a,e,d]),"function"==typeof s&&s()})):(a.addClass(d.collapsedClass).parent().addClass(d.collapsedClass),e.removeClass(d.panelActiveClass)[o.collapse](o.speed,d.transitionCollapseEasing,function(){r.trigger("easytabs:midTransition",[a,e,d]),"function"==typeof s&&s()})))},c.matchTab=function(a){return c.tabs.find("[href='"+a+"'],[data-target='"+a+"']").first()},c.matchInPanel=function(a){return a&&c.validId(a)?c.panels.filter(":has("+a+")").first():[]},c.validId=function(a){return a.substr(1).match(/^[A-Za-z]+[A-Za-z0-9\-_:\.].$/)},c.selectTabFromHashChange=function(){var a,e=window.location.hash.match(/^[^\?]*/)[0],t=c.matchTab(e);d.updateHash&&(t.length?(l=!0,c.selectTab(t)):(a=c.matchInPanel(e)).length?(e="#"+a.attr("id"),t=c.matchTab(e),l=!0,c.selectTab(t)):s.hasClass(d.tabActiveClass)||d.cycle||(""===e||c.matchTab(n).length||r.closest(e).length)&&(l=!0,c.selectTab(i)))},c.cycleTabs=function(e){d.cycle&&(e%=c.tabs.length,$tab=a(c.tabs[e]).children("a").first(),l=!0,c.selectTab($tab,function(){setTimeout(function(){c.cycleTabs(e+1)},d.cycle)}))},c.publicMethods={select:function(e){var t;0===(t=c.tabs.filter(e)).length?0===(t=c.tabs.find("a[href='"+e+"']")).length&&0===(t=c.tabs.find("a"+e)).length&&0===(t=c.tabs.find("[data-target='"+e+"']")).length&&0===(t=c.tabs.find("a[href$='"+e+"']")).length&&a.error("Tab '"+e+"' does not exist in tab set"):t=t.children("a").first(),c.selectTab(t)}};var h=function(e,t,s){var i=a.Event(t);return e.trigger(i,s),!1!==i.result},f=function(){r.addClass(d.containerClass),c.tabs.parent().addClass(d.tabsClass),c.tabs.addClass(d.tabClass),c.panels.addClass(d.panelClass)},g=function(){var e,t=window.location.hash.match(/^[^\?]*/)[0],o=c.matchTab(t).parent();1===o.length?(s=o,d.cycle=!1):(e=c.matchInPanel(t)).length?(t="#"+e.attr("id"),s=c.matchTab(t).parent()):0===(s=c.tabs.parent().find(d.defaultTab)).length&&a.error("The specified default tab ('"+d.defaultTab+"') could not be found in the tab set ('"+d.tabs+"') out of "+c.tabs.length+" tabs."),i=s.children("a").first(),v(o)},v=function(e){var t,o;d.collapsible&&0===e.length&&d.collapsedByDefault?s.addClass(d.collapsedClass).children().addClass(d.collapsedClass):(t=a(s.data("easytabs").panel),!(o=s.data("easytabs").ajax)||d.cache&&s.data("easytabs").cached||(r.trigger("easytabs:ajax:beforeSend",[i,t]),t.load(o,function(a,e,o){s.data("easytabs").cached=!0,r.trigger("easytabs:ajax:complete",[i,t,a,e,o])})),s.data("easytabs").panel.show().addClass(d.panelActiveClass),s.addClass(d.tabActiveClass).children().addClass(d.tabActiveClass)),r.trigger("easytabs:initialised",[i,t])},m=function(a,e,t,s){if(c.panels.stop(!0,!0),h(r,"easytabs:before",[a,e,d])){var i,u,p,f,g=c.panels.filter(":visible"),v=e.parent(),m=window.location.hash.match(/^[^\?]*/)[0];d.animate&&(i=b(e),u=g.length?_(g):0,p=i-u),n=m,f=function(){r.trigger("easytabs:midTransition",[a,e,d]),d.animate&&"fadeIn"==d.transitionIn&&p<0&&v.animate({height:v.height()+p},o.halfSpeed).css({"min-height":""}),d.updateHash&&!l?window.location.hash="#"+e.attr("id"):l=!1,e[o.show](o.speed,d.transitionInEasing,function(){v.css({height:"","min-height":""}),r.trigger("easytabs:after",[a,e,d]),"function"==typeof s&&s()})},!t||d.cache&&a.parent().data("easytabs").cached||(r.trigger("easytabs:ajax:beforeSend",[a,e]),e.load(t,function(t,s,i){a.parent().data("easytabs").cached=!0,r.trigger("easytabs:ajax:complete",[a,e,t,s,i])})),d.animate&&"fadeOut"==d.transitionOut&&(p>0?v.animate({height:v.height()+p},o.halfSpeed):v.css({"min-height":v.height()})),c.tabs.filter("."+d.tabActiveClass).removeClass(d.tabActiveClass).children().removeClass(d.tabActiveClass),c.tabs.filter("."+d.collapsedClass).removeClass(d.collapsedClass).children().removeClass(d.collapsedClass),a.parent().addClass(d.tabActiveClass).children().addClass(d.tabActiveClass),c.panels.filter("."+d.panelActiveClass).removeClass(d.panelActiveClass),e.addClass(d.panelActiveClass),g.length?g[o.hide](o.speed,d.transitionOutEasing,f):e[o.uncollapse](o.speed,d.transitionUncollapseEasing,f)}},b=function(e){if(e.data("easytabs")&&e.data("easytabs").lastHeight)return e.data("easytabs").lastHeight;var t,s,i=e.css("display");try{t=a("<div></div>",{position:"absolute",visibility:"hidden",overflow:"hidden"})}catch(e){t=a("<div></div>",{visibility:"hidden",overflow:"hidden"})}return s=e.wrap(t).css({position:"relative",visibility:"hidden",display:"block"}).outerHeight(),e.unwrap(),e.css({position:e.data("easytabs").position,visibility:e.data("easytabs").visibility,display:i}),e.data("easytabs").lastHeight=s,s},_=function(a){var e=a.outerHeight();return a.data("easytabs")?a.data("easytabs").lastHeight=e:a.data("easytabs",{lastHeight:e}),e},q=function(){"function"==typeof a(window).hashchange?a(window).hashchange(function(){c.selectTabFromHashChange()}):a.address&&"function"==typeof a.address.change&&a.address.change(function(){c.selectTabFromHashChange()})},y=function(){var a;d.cycle&&(a=c.tabs.index(s),setTimeout(function(){c.cycleTabs(a+1)},d.cycle))};c.init()},a.fn.easytabs=function(e){var t=arguments;return this.each(function(){var s=a(this),i=s.data("easytabs");if(void 0===i&&(i=new a.easytabs(this,e),s.data("easytabs",i)),i.publicMethods[e])return i.publicMethods[e](Array.prototype.slice.call(t,1))})}}(jQuery),function(a){var e,t,s,i,o,n,l,d,c,r,u,p,h,f,g,v,m,b,_,q,y,k,w,C,x,T,I,j,A=(e={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156},t=function(e,t){var s=D(e);a(t).data("colpick").fields.eq(1).val(s.r).end().eq(2).val(s.g).end().eq(3).val(s.b).end()},s=function(e,t){a(t).data("colpick").fields.eq(4).val(Math.round(e.h)).end().eq(5).val(Math.round(e.s)).end().eq(6).val(Math.round(e.b)).end()},i=function(e,t){a(t).data("colpick").fields.eq(0).val(z(e))},o=function(e,t){a(t).data("colpick").selector.css("backgroundColor","#"+z({h:e.h,s:100,b:100})),a(t).data("colpick").selectorIndic.css({left:parseInt(a(t).data("colpick").height*e.s/100,10),top:parseInt(a(t).data("colpick").height*(100-e.b)/100,10)})},n=function(e,t){a(t).data("colpick").hue.css("top",parseInt(a(t).data("colpick").height-a(t).data("colpick").height*e.h/360,10))},l=function(e,t){a(t).data("colpick").currentColor.css("backgroundColor","#"+z(e))},d=function(e,t){a(t).data("colpick").newColor.css("backgroundColor","#"+z(e))},c=function(e){var l,c=a(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?(c.data("colpick").color=l=M(I(this.value)),t(l,c.get(0)),s(l,c.get(0))):this.parentNode.className.indexOf("_hsb")>0?(c.data("colpick").color=l=x({h:parseInt(c.data("colpick").fields.eq(4).val(),10),s:parseInt(c.data("colpick").fields.eq(5).val(),10),b:parseInt(c.data("colpick").fields.eq(6).val(),10)}),t(l,c.get(0)),i(l,c.get(0))):(c.data("colpick").color=l=E(T({r:parseInt(c.data("colpick").fields.eq(1).val(),10),g:parseInt(c.data("colpick").fields.eq(2).val(),10),b:parseInt(c.data("colpick").fields.eq(3).val(),10)})),i(l,c.get(0)),s(l,c.get(0))),o(l,c.get(0)),n(l,c.get(0)),d(l,c.get(0)),c.data("colpick").onChange.apply(c.parent(),[l,z(l),D(l),c.data("colpick").el,0])},r=function(e){a(this).parent().removeClass("colpick_focus")},u=function(){a(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),a(this).parent().addClass("colpick_focus")},p=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=a(this).parent().find("input").focus(),s={el:a(this).parent().addClass("colpick_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:e.pageY,field:t,val:parseInt(t.val(),10),preview:a(this).parent().parent().data("colpick").livePreview};a(document).mouseup(s,f),a(document).mousemove(s,h)},h=function(a){return a.data.field.val(Math.max(0,Math.min(a.data.max,parseInt(a.data.val-a.pageY+a.data.y,10)))),a.data.preview&&c.apply(a.data.field.get(0),[!0]),!1},f=function(e){return c.apply(e.data.field.get(0),[!0]),e.data.el.removeClass("colpick_slider").find("input").focus(),a(document).off("mouseup",f),a(document).off("mousemove",h),!1},g=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t={cal:a(this).parent(),y:a(this).offset().top};a(document).on("mouseup touchend",t,m),a(document).on("mousemove touchmove",t,v);var s="touchstart"==e.type?e.originalEvent.changedTouches[0].pageY:e.pageY;return c.apply(t.cal.data("colpick").fields.eq(4).val(parseInt(360*(t.cal.data("colpick").height-(s-t.y))/t.cal.data("colpick").height,10)).get(0),[t.cal.data("colpick").livePreview]),!1},v=function(a){var e="touchmove"==a.type?a.originalEvent.changedTouches[0].pageY:a.pageY;return c.apply(a.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(a.data.cal.data("colpick").height-Math.max(0,Math.min(a.data.cal.data("colpick").height,e-a.data.y)))/a.data.cal.data("colpick").height,10)).get(0),[a.data.preview]),!1},m=function(e){return t(e.data.cal.data("colpick").color,e.data.cal.get(0)),i(e.data.cal.data("colpick").color,e.data.cal.get(0)),a(document).off("mouseup touchend",m),a(document).off("mousemove touchmove",v),!1},b=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t,s={cal:a(this).parent(),pos:a(this).offset()};return s.preview=s.cal.data("colpick").livePreview,a(document).on("mouseup touchend",s,q),a(document).on("mousemove touchmove",s,_),"touchstart"==e.type?(pageX=e.originalEvent.changedTouches[0].pageX,t=e.originalEvent.changedTouches[0].pageY):(pageX=e.pageX,t=e.pageY),c.apply(s.cal.data("colpick").fields.eq(6).val(parseInt(100*(s.cal.data("colpick").height-(t-s.pos.top))/s.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(pageX-s.pos.left)/s.cal.data("colpick").height,10)).get(0),[s.preview]),!1},_=function(a){var e;return"touchmove"==a.type?(pageX=a.originalEvent.changedTouches[0].pageX,e=a.originalEvent.changedTouches[0].pageY):(pageX=a.pageX,e=a.pageY),c.apply(a.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(a.data.cal.data("colpick").height-Math.max(0,Math.min(a.data.cal.data("colpick").height,e-a.data.pos.top)))/a.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(a.data.cal.data("colpick").height,pageX-a.data.pos.left))/a.data.cal.data("colpick").height,10)).get(0),[a.data.preview]),!1},q=function(e){return t(e.data.cal.data("colpick").color,e.data.cal.get(0)),i(e.data.cal.data("colpick").color,e.data.cal.get(0)),a(document).off("mouseup touchend",q),a(document).off("mousemove touchmove",_),!1},y=function(e){var t=a(this).parent(),s=t.data("colpick").color;t.data("colpick").origColor=s,l(s,t.get(0)),t.data("colpick").onSubmit(s,z(s),D(s),t.data("colpick").el)},k=function(e){e.stopPropagation();var t=a("#"+a(this).data("colpickId"));t.data("colpick").onBeforeShow.apply(this,[t.get(0)]);var s=a(this).offset(),i=s.top+this.offsetHeight,o=s.left,n=C(),l=t.width();o+l>n.l+n.w&&(o-=l),t.css({left:o+"px",top:i+"px"}),0!=t.data("colpick").onShow.apply(this,[t.get(0)])&&t.show(),a("html").mousedown({cal:t},w),t.mousedown(function(a){a.stopPropagation()})},w=function(e){0!=e.data.cal.data("colpick").onHide.apply(this,[e.data.cal.get(0)])&&e.data.cal.hide(),a("html").off("mousedown",w)},C=function(){var a="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(a?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(a?document.documentElement.clientWidth:document.body.clientWidth)}},x=function(a){return{h:Math.min(360,Math.max(0,a.h)),s:Math.min(100,Math.max(0,a.s)),b:Math.min(100,Math.max(0,a.b))}},T=function(a){return{r:Math.min(255,Math.max(0,a.r)),g:Math.min(255,Math.max(0,a.g)),b:Math.min(255,Math.max(0,a.b))}},I=function(a){var e=6-a.length;if(e>0){for(var t=[],s=0;s<e;s++)t.push("0");t.push(a),a=t.join("")}return a},j=function(){var e=a(this).parent(),l=e.data("colpick").origColor;e.data("colpick").color=l,t(l,e.get(0)),i(l,e.get(0)),s(l,e.get(0)),o(l,e.get(0)),n(l,e.get(0)),d(l,e.get(0))},{init:function(h){if("string"==typeof(h=a.extend({},e,h||{})).color)h.color=M(h.color);else if(null!=h.color.r&&null!=h.color.g&&null!=h.color.b)h.color=E(h.color);else{if(null==h.color.h||null==h.color.s||null==h.color.b)return this;h.color=x(h.color)}return this.each(function(){if(!a(this).data("colpickId")){var e=a.extend({},h);e.origColor=h.color;var f="collorpicker_"+parseInt(1e3*Math.random());a(this).data("colpickId",f);var v=a('<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>').attr("id",f);v.addClass("colpick_"+e.layout+(e.submit?"":" colpick_"+e.layout+"_ns")),"light"!=e.colorScheme&&v.addClass("colpick_"+e.colorScheme),v.find("div.colpick_submit").html(e.submitText).click(y),e.fields=v.find("input").change(c).blur(r).focus(u),v.find("div.colpick_field_arrs").mousedown(p).end().find("div.colpick_current_color").click(j),e.selector=v.find("div.colpick_color").on("mousedown touchstart",b),e.selectorIndic=e.selector.find("div.colpick_selector_outer"),e.el=this,e.hue=v.find("div.colpick_hue_arrs"),huebar=e.hue.parent();var m,_,q=navigator.userAgent.toLowerCase(),w="Microsoft Internet Explorer"===navigator.appName,C=w?parseFloat(q.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,x=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(w&&C<10)for(m=0;m<=11;m++)_=a("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+x[m]+", endColorstr="+x[m+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+x[m]+", endColorstr="+x[m+1]+')";'),huebar.append(_);else stopList=x.join(","),huebar.attr("style","background:-webkit-linear-gradient(top,"+stopList+"); background: -o-linear-gradient(top,"+stopList+"); background: -ms-linear-gradient(top,"+stopList+"); background:-moz-linear-gradient(top,"+stopList+"); -webkit-linear-gradient(top,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); ");v.find("div.colpick_hue").on("mousedown touchstart",g),e.newColor=v.find("div.colpick_new_color"),e.currentColor=v.find("div.colpick_current_color"),v.data("colpick",e),t(e.color,v.get(0)),s(e.color,v.get(0)),i(e.color,v.get(0)),n(e.color,v.get(0)),o(e.color,v.get(0)),l(e.color,v.get(0)),d(e.color,v.get(0)),e.flat?(v.appendTo(this).show(),v.css({position:"relative",display:"block"})):(v.appendTo(document.body),a(this).on(e.showEvent,k),v.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){a(this).data("colpickId")&&k.apply(this)})},hidePicker:function(){return this.each(function(){a(this).data("colpickId")&&a("#"+a(this).data("colpickId")).hide()})},setColor:function(e,c){if(c=void 0===c?1:c,"string"==typeof e)e=M(e);else if(null!=e.r&&null!=e.g&&null!=e.b)e=E(e);else{if(null==e.h||null==e.s||null==e.b)return this;e=x(e)}return this.each(function(){if(a(this).data("colpickId")){var r=a("#"+a(this).data("colpickId"));r.data("colpick").color=e,r.data("colpick").origColor=e,t(e,r.get(0)),s(e,r.get(0)),i(e,r.get(0)),n(e,r.get(0)),o(e,r.get(0)),d(e,r.get(0)),r.data("colpick").onChange.apply(r.parent(),[e,z(e),D(e),r.data("colpick").el,1]),c&&l(e,r.get(0))}})}}),S=function(a){return{r:(a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16))>>16,g:(65280&a)>>8,b:255&a}},M=function(a){return E(S(a))},E=function(a){var e={h:0,s:0,b:0},t=Math.min(a.r,a.g,a.b),s=Math.max(a.r,a.g,a.b),i=s-t;return e.b=s,e.s=0!=s?255*i/s:0,0!=e.s?a.r==s?e.h=(a.g-a.b)/i:a.g==s?e.h=2+(a.b-a.r)/i:e.h=4+(a.r-a.g)/i:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},D=function(a){var e={},t=a.h,s=255*a.s/100,i=255*a.b/100;if(0==s)e.r=e.g=e.b=i;else{var o=i,n=(255-s)*i/255,l=t%60*(o-n)/60;360==t&&(t=0),t<60?(e.r=o,e.b=n,e.g=n+l):t<120?(e.g=o,e.b=n,e.r=o-l):t<180?(e.g=o,e.r=n,e.b=n+l):t<240?(e.b=o,e.r=n,e.g=o-l):t<300?(e.b=o,e.g=n,e.r=n+l):t<360?(e.r=o,e.g=n,e.b=o-l):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},P=function(e){var t=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return a.each(t,function(a,e){1==e.length&&(t[a]="0"+e)}),t.join("")},z=function(a){return P(D(a))};a.fn.extend({colpick:A.init,colpickHide:A.hidePicker,colpickShow:A.showPicker,colpickSetColor:A.setColor}),a.extend({colpick:{rgbToHex:P,rgbToHsb:E,hsbToHex:z,hsbToRgb:D,hexToHsb:M,hexToRgb:S}})}(jQuery);